{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';// Necesario para la navegación\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[nombre,setNombre]=useState('');const[correo,setCorreo]=useState('');const[contraseña,setContraseña]=useState('');const[mensaje,setMensaje]=useState('');const navigate=useNavigate();// Hook para redirigir\nconst handleRegister=async e=>{e.preventDefault();// Validar contraseña en el frontend\nif(contraseña.length<8){setMensaje('La contraseña debe tener al menos 8 caracteres');return;}try{const response=await axios.post('http://localhost:5000/api/auth/register',{nombre,correo,contraseña});const{token,usuario}=response.data;// Guardar el token en localStorage\nlocalStorage.setItem('token',token);localStorage.setItem('usuario',JSON.stringify(usuario));setMensaje('Usuario registrado exitosamente');// Temporizador para redirigir después de 3 segundos\nsetTimeout(()=>{navigate('/login');},3000);}catch(error){var _error$response,_error$response$data;setMensaje(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Error al registrar usuario');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Registro\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nombre\",value:nombre,onChange:e=>setNombre(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Correo\",value:correo,onChange:e=>setCorreo(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Contrase\\xF1a\",value:contraseña,onChange:e=>setContraseña(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrar\"})]}),mensaje&&/*#__PURE__*/_jsx(\"p\",{children:mensaje})]});}export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","nombre","setNombre","correo","setCorreo","contraseña","setContraseña","mensaje","setMensaje","navigate","handleRegister","e","preventDefault","length","response","post","token","usuario","data","localStorage","setItem","JSON","stringify","setTimeout","error","_error$response","_error$response$data","message","children","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["C:/gestion-fotocopiadoras/frontend/src/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom'; // Necesario para la navegación\r\n\r\nfunction Register() {\r\n  const [nombre, setNombre] = useState('');\r\n  const [correo, setCorreo] = useState('');\r\n  const [contraseña, setContraseña] = useState('');\r\n  const [mensaje, setMensaje] = useState('');\r\n  const navigate = useNavigate(); // Hook para redirigir\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validar contraseña en el frontend\r\n    if (contraseña.length < 8) {\r\n      setMensaje('La contraseña debe tener al menos 8 caracteres');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/auth/register', {\r\n        nombre,\r\n        correo,\r\n        contraseña,\r\n      });\r\n\r\n      const { token, usuario } = response.data;\r\n\r\n      // Guardar el token en localStorage\r\n      localStorage.setItem('token', token);\r\n      localStorage.setItem('usuario', JSON.stringify(usuario));\r\n\r\n      setMensaje('Usuario registrado exitosamente');\r\n\r\n      // Temporizador para redirigir después de 3 segundos\r\n      setTimeout(() => {\r\n        navigate('/login');\r\n      }, 3000);\r\n    } catch (error) {\r\n      setMensaje(\r\n        error.response?.data?.message || 'Error al registrar usuario'\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Registro</h1>\r\n      <form onSubmit={handleRegister}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nombre\"\r\n          value={nombre}\r\n          onChange={(e) => setNombre(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Correo\"\r\n          value={correo}\r\n          onChange={(e) => setCorreo(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Contraseña\"\r\n          value={contraseña}\r\n          onChange={(e) => setContraseña(e.target.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\">Registrar</button>\r\n      </form>\r\n      {mensaje && <p>{mensaje}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}