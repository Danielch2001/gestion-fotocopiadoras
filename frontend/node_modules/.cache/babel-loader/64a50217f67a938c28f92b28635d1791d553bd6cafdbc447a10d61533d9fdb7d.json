{"ast":null,"code":"var _jsxFileName = \"C:\\\\gestion-fotocopiadoras\\\\frontend\\\\src\\\\components\\\\Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/Register.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [nombre, setNombre] = useState('');\n  const [correo, setCorreo] = useState('');\n  const [contraseña, setContraseña] = useState('');\n  const [direccion, setDireccion] = useState('');\n  const [telefono, setTelefono] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const navigate = useNavigate();\n  const handleRegister = async e => {\n    e.preventDefault();\n\n    // Validaciones en el frontend\n    if (nombre.trim().length < 3) {\n      setError('El nombre debe tener al menos 3 caracteres.');\n      return;\n    }\n    if (!/\\S+@\\S+\\.\\S+/.test(correo)) {\n      setError('Correo inválido.');\n      return;\n    }\n    if (contraseña.length < 8) {\n      setError('La contraseña debe tener al menos 8 caracteres.');\n      return;\n    }\n    if (direccion.trim().length < 5) {\n      setError('La dirección debe tener al menos 5 caracteres.');\n      return;\n    }\n    if (!/^\\d+$/.test(telefono)) {\n      setError('El teléfono debe contener solo números.');\n      return;\n    }\n    try {\n      const response = await axios.post('http://localhost:5000/api/auth/register', {\n        nombre,\n        correo,\n        contraseña,\n        direccion,\n        telefono\n      });\n      setSuccess(response.data.message);\n      setError('');\n\n      // Redirigir al login después de 2 segundos\n      setTimeout(() => {\n        navigate('/login');\n      }, 2000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Error al registrarse.');\n      setSuccess('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Registro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleRegister,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Nombre\",\n        value: nombre,\n        onChange: e => setNombre(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Correo\",\n        value: correo,\n        onChange: e => setCorreo(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Contrase\\xF1a\",\n        value: contraseña,\n        onChange: e => setContraseña(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Direcci\\xF3n\",\n        value: direccion,\n        onChange: e => setDireccion(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Tel\\xE9fono\",\n        value: telefono,\n        onChange: e => setTelefono(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Registrarse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"etV+9knCGmFZay3+6S35fXVSye8=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","Register","_s","nombre","setNombre","correo","setCorreo","contraseña","setContraseña","direccion","setDireccion","telefono","setTelefono","error","setError","success","setSuccess","navigate","handleRegister","e","preventDefault","trim","length","test","response","post","data","message","setTimeout","err","_err$response","_err$response$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","_c","$RefreshReg$"],"sources":["C:/gestion-fotocopiadoras/frontend/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/Register.css';\r\n\r\nconst Register = () => {\r\n  const [nombre, setNombre] = useState('');\r\n  const [correo, setCorreo] = useState('');\r\n  const [contraseña, setContraseña] = useState('');\r\n  const [direccion, setDireccion] = useState('');\r\n  const [telefono, setTelefono] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validaciones en el frontend\r\n    if (nombre.trim().length < 3) {\r\n      setError('El nombre debe tener al menos 3 caracteres.');\r\n      return;\r\n    }\r\n\r\n    if (!/\\S+@\\S+\\.\\S+/.test(correo)) {\r\n      setError('Correo inválido.');\r\n      return;\r\n    }\r\n\r\n    if (contraseña.length < 8) {\r\n      setError('La contraseña debe tener al menos 8 caracteres.');\r\n      return;\r\n    }\r\n\r\n    if (direccion.trim().length < 5) {\r\n      setError('La dirección debe tener al menos 5 caracteres.');\r\n      return;\r\n    }\r\n\r\n    if (!/^\\d+$/.test(telefono)) {\r\n      setError('El teléfono debe contener solo números.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/auth/register', {\r\n        nombre,\r\n        correo,\r\n        contraseña,\r\n        direccion,\r\n        telefono\r\n      });\r\n      setSuccess(response.data.message);\r\n      setError('');\r\n\r\n      // Redirigir al login después de 2 segundos\r\n      setTimeout(() => {\r\n        navigate('/login');\r\n      }, 2000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Error al registrarse.');\r\n      setSuccess('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <h1>Registro</h1>\r\n      <form onSubmit={handleRegister}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nombre\"\r\n          value={nombre}\r\n          onChange={(e) => setNombre(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Correo\"\r\n          value={correo}\r\n          onChange={(e) => setCorreo(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Contraseña\"\r\n          value={contraseña}\r\n          onChange={(e) => setContraseña(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Dirección\"\r\n          value={direccion}\r\n          onChange={(e) => setDireccion(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Teléfono\"\r\n          value={telefono}\r\n          onChange={(e) => setTelefono(e.target.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\">Registrarse</button>\r\n      </form>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {success && <p className=\"success\">{success}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}